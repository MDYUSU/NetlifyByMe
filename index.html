<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Copy Blocks — Template Snippets Demo</title>
  <style>
    :root{font-family:system-ui,Arial,Segoe UI,Helvetica;--bg:#f6f7fb;--card:#fff}
    body{margin:0;background:var(--bg);padding:36px;display:flex;flex-direction:column;align-items:center}
    .grid{display:flex;flex-wrap:wrap;gap:12px;max-width:900px;justify-content:center}
    .block{min-width:82px;padding:18px 20px;border-radius:10px;background:var(--card);box-shadow:0 4px 14px rgba(0,0,0,.06);cursor:pointer;user-select:none;text-align:center;transition:transform .12s ease,box-shadow .12s;outline:none}
    .block:focus{box-shadow:0 6px 18px rgba(0,0,0,.12);transform:translateY(-2px)}
    .block:active{transform:translateY(1px)}
    footer{margin-top:28px;color:#666;font-size:13px}
  </style>
</head>
<body>
  <!-- <h1 style="margin:0 0 16px">Tap a block to copy the program</h1> -->
  <div class="grid" id="grid" role="list">
    <div class="block" role="listitem" tabindex="0" data-snippet="s1" aria-label="Copy snippet 1">1</div>
    <div class="block" role="listitem" tabindex="0" data-snippet="s2" aria-label="Copy snippet 2">2</div>
    <div class="block" role="listitem" tabindex="0" data-snippet="s3" aria-label="Copy snippet 3">3</div>
    <div class="block" role="listitem" tabindex="0" data-snippet="s4" aria-label="Copy snippet 4">4</div>
    <div class="block" role="listitem" tabindex="0" data-snippet="s5" aria-label="Copy snippet 5">5</div>
    <div class="block" role="listitem" tabindex="0" data-snippet="s6" aria-label="Copy snippet 6">6</div>
    <div class="block" role="listitem" tabindex="0" data-snippet="s7" aria-label="Copy snippet 7">7</div>
    <div class="block" role="listitem" tabindex="0" data-snippet="s8" aria-label="Copy snippet 8">8</div>
    <div class="block" role="listitem" tabindex="0" data-snippet="s9" aria-label="Copy snippet 9">9</div>
    <div class="block" role="listitem" tabindex="0" data-snippet="s10" aria-label="Copy snippet 10">10</div>
    <div class="block" role="listitem" tabindex="0" data-snippet="s11" aria-label="Copy snippet 11">11</div>
    <div class="block" role="listitem" tabindex="0" data-snippet="s12" aria-label="Copy snippet 12">12</div>
<template id="s1">
int led[] = {2, 3, 4, 5, 6};

void setup() {
  for (int i = 0; i < 5; i++) {
    pinMode(led[i], OUTPUT);
  }
}

void loop() {
  // Forward loop
  for (int i = 0; i < 5; i++) {
    for (int j = 0; j < 5; j++) {
      digitalWrite(led[j], LOW);
    }
    digitalWrite(led[i], HIGH);
    delay(1000);
  }

  // Backward loop
  for (int i = 4; i >= 0; i--) {
    for (int j = 0; j < 5; j++) {
      digitalWrite(led[j], LOW);
    }
    digitalWrite(led[i], HIGH);
    delay(1000);
  }
}
</template>

<template id="s2">
int buttonState = 0;

void setup() {
  pinMode(2, INPUT);  
  pinMode(9, OUTPUT); 
}

void loop() {
  buttonState = digitalRead(2);

  if (buttonState == HIGH) {
    digitalWrite(9, HIGH); // Turn Relay ON
  } 
  else {
    digitalWrite(9, LOW);  // Turn Relay OFF
  }
  
  delay(10);
}
</template>

<template id="s3">
#define PIEZO_PIN 9
const int trigger = 6;
const int echo = 7;
const int soundPin = A0;

float distance;
float dist_inches;

const float DIST_THRESHOLD = 5.0;
const int SOUND_THRESHOLD = 520;

void setup() {
  Serial.begin(9600);
  pinMode(trigger, OUTPUT);
  pinMode(echo, INPUT);
  pinMode(PIEZO_PIN, OUTPUT);
}

void loop() {
  digitalWrite(trigger, LOW);
  delayMicroseconds(5);

  digitalWrite(trigger, HIGH);
  delayMicroseconds(10);
  digitalWrite(trigger, LOW);

  distance = pulseIn(echo, HIGH);

  distance = distance * 0.0001657;
  dist_inches = distance * 39.37;

  int soundValue = analogRead(soundPin);

  if (dist_inches < DIST_THRESHOLD && soundValue > SOUND_THRESHOLD) {
    tone(PIEZO_PIN, 1500);
    delay(200);
    noTone(PIEZO_PIN);
    Serial.print("Intrusion Detected! Object with sound at distance: ");
    Serial.print(dist_inches);
    Serial.println(" in");
  } 
  else if (dist_inches < DIST_THRESHOLD) {
    Serial.print("Object detected at distance: ");
    Serial.print(dist_inches);
    Serial.println(" in");
  } 
  else if (soundValue > SOUND_THRESHOLD) {
    Serial.println("Sound detected!");
  } 
  else {
    Serial.println("No intrusion detected.");
  }
  delay(200);
}
</template>

<template id="s4">
void setup() {
  pinMode(11, OUTPUT);
}

void loop() {
  digitalWrite(11, HIGH);
  delay(1000);
  digitalWrite(11, LOW);
  delay(1000);
}
</template>

<template id="s5">
int ldr1 = 0;

void setup() {
  pinMode(2, INPUT);   // Sensor connected to Pin 2
  pinMode(5, OUTPUT);  // LED/Output connected to Pin 5
  Serial.begin(9600);
}

void loop() {
  ldr1 = digitalRead(2);

  if (ldr1 == HIGH) {
    digitalWrite(5, HIGH); // Turn LED ON
  } 
  else {
    digitalWrite(5, LOW);  // Turn LED OFF
  }

  Serial.print("Intensity: ");
  Serial.println(ldr1);    // Changed to println so it doesn't pile up on one line
  
  delay(100); // Added a small delay to make the screen readable
}
</template>

<template id="s6">
const int sensorPin = A0; 
const int ledPin = 13; 
int SensorValue = 0;
int threshold = 500;
int dry = 800;

void setup() {
  pinMode(ledPin, OUTPUT);
  Serial.begin(9600);
}

void loop() {
  SensorValue = analogRead(sensorPin);
  
  Serial.print("Soil moisture sensor Value: ");
  Serial.println(SensorValue);

  // Check if soil is wet (High value)
  if (SensorValue >= dry) {
    digitalWrite(ledPin, HIGH);
    Serial.println("Soil is wet");
  }
  // Check if soil is moderate
  else if (SensorValue >= threshold && SensorValue < dry) {
    digitalWrite(ledPin, LOW);
    Serial.println("Soil is moderate");
  }
  // Otherwise, soil is dry
  else {
    digitalWrite(ledPin, LOW);
    Serial.println("Soil is dry");
  }

  delay(1000);
}
</template>

<template id="s7">
Heyy. U r missguided, this program isnt there
</template>

<template id="s8">
int Smoke_Sensor = 0;

void setup() {
  pinMode(A0, INPUT);
  Serial.begin(9600);
  pinMode(5, OUTPUT);
  pinMode(7, OUTPUT);
}

void loop() {
  Smoke_Sensor = analogRead(A0);
  Serial.println(Smoke_Sensor);

  // First threshold check (>= 600)
  if (Smoke_Sensor >= 600) {
    digitalWrite(5, HIGH);
  } else {
    digitalWrite(5, LOW);
  }

  // Second threshold check (>= 700)
  if (Smoke_Sensor >= 700) {
    digitalWrite(7, HIGH);
  } else {
    digitalWrite(7, LOW);
  }

  delay(10);
}
</template>

<template id="s9">
#include <Wire.h>
#include <Adafruit_GFX.h>
#include <Adafruit_SSD1306.h>
#include <DHT.h>

// --- Screen Settings ---
#define SCREEN_WIDTH 128
#define SCREEN_HEIGHT 64
#define OLED_RESET    -1
Adafruit_SSD1306 display(SCREEN_WIDTH, SCREEN_HEIGHT, &Wire, OLED_RESET);

// --- Sensor Settings ---
#define DHTPIN 4        // Digital pin connected to the DHT sensor
#define DHTTYPE DHT11   // Type of sensor
DHT dht(DHTPIN, DHTTYPE);

void setup() {
  Serial.begin(9600); // Standard speed
  dht.begin();

  // Initialize the OLED Screen
  // Address 0x3C is standard for 128x64 screens
  if(!display.begin(SSD1306_SWITCHCAPVCC, 0x3C)) { 
    Serial.println(F("SSD1306 allocation failed"));
    for(;;); // Don't proceed, loop forever
  }
  
  display.clearDisplay();
  display.setTextColor(WHITE);
  display.display();
  delay(2000); // Pause to let screen and sensor start up
}

void loop() {
  delay(2000); // Wait a few seconds between measurements

  // Read temperature and humidity
  float h = dht.readHumidity();
  float t = dht.readTemperature();

  // Check if any reads failed
  if (isnan(h) || isnan(t)) {
    Serial.println(F("Failed to read from DHT sensor!"));
    return;
  }

  // --- Update OLED Screen ---
  display.clearDisplay();

  // 1. Display Temperature
  display.setTextSize(1);
  display.setCursor(0, 0);
  display.print("Temperature");
  
  display.setTextSize(2);
  display.setCursor(0, 10);
  display.print(t);
  display.write(167); // Prints the degree symbol (°)
  display.print("C");

  // 2. Display Humidity
  display.setTextSize(1);
  display.setCursor(0, 35);
  display.print("Humidity"); 
  
  display.setTextSize(2);
  display.setCursor(0, 45);
  display.print(h);
  display.print("%");

  display.display(); // Push everything to the screen

  // --- Print to Computer (Serial) ---
  Serial.print("Temperature: ");
  Serial.print(t);
  Serial.print(" | Humidity: ");
  Serial.println(h);
}
</template>

<template id="s10">
Heyy. U r missguided, this program isnt there
</template>

<template id="s11">
#define TRIG 9
#define ECHO 10

long duration;
float distance;
float tankDepth = 150;
float waterLevel;

void setup() {
  Serial.begin(9600);
  pinMode(TRIG, OUTPUT);
  pinMode(ECHO, INPUT);
}

void loop() {
  digitalWrite(TRIG, LOW);
  delayMicroseconds(2);
  digitalWrite(TRIG, HIGH);
  delayMicroseconds(10);
  digitalWrite(TRIG, LOW);
  duration = pulseIn(ECHO, HIGH);
  distance = duration * 0.034 / 2;
  Serial.println(distance);
}  
</template>

<template id="s12">
#include <Keypad.h>

const byte ROWS = 4;
const byte COLS = 4;

char keys[ROWS][COLS] = {
  {'1', '2', '3', 'A'},
  {'4', '5', '6', 'B'},
  {'7', '8', '9', 'C'},
  {'*', '0', '#', 'D'}
};

byte rowPins[ROWS] = {9, 8, 7, 6};
byte colPins[COLS] = {5, 4, 3, 2};

Keypad keypd = Keypad(makeKeymap(keys), rowPins, colPins, ROWS, COLS);

void setup() {
  Serial.begin(9600);
  Serial.println("Keypad Test - Press keys");
}

void loop() {
  char key = keypd.getKey();
  
  if (key) {
    Serial.print("Key pressed: ");
    Serial.println(key);
  }
}
</template>

  <script>
    // Utilities
    const grid = document.getElementById('grid');

    function looksDangerous(code) {
      if (!code) return false;
      const patterns = [/(^|\s)rm\s+-rf\s+/i, /(^|\s)sudo\s+/i, /curl\s+\S+\s*\|\s*sh/i];
      return patterns.some(rx => rx.test(code));
    }

    async function copyText(text) {
      if (!text) return; // nothing to do

      if (looksDangerous(text)) {
        if (!confirm('This snippet appears to contain potentially dangerous shell commands. Are you sure you want to copy it?')) return;
      }

      try {
        if (navigator.clipboard && navigator.clipboard.writeText) {
          await navigator.clipboard.writeText(text);
        } else {
          const ta = document.createElement('textarea');
          ta.value = text;
          ta.style.position = 'fixed';
          ta.style.left = '-9999px';
          document.body.appendChild(ta);
          ta.select();
          document.execCommand('copy');
          ta.remove();
        }
      } catch (err) {
        console.error('Copy failed', err);
      }
    }

    function getSnippetById(id) {
      const tpl = document.getElementById(id);
      if (!tpl) return '';
      return tpl.content.textContent; // preserve newlines and indentation
    }

    // Copy on click
    grid.addEventListener('click', (ev) => {
      const block = ev.target.closest('.block');
      if (!block) return;
      const id = block.dataset.snippet;
      if (!id) return;
      const code = getSnippetById(id);
      copyText(code);
    });

    // Keyboard accessibility
    grid.addEventListener('keydown', (ev) => {
      if (ev.key === 'Enter' || ev.key === ' ') {
        const block = ev.target.closest('.block');
        if (!block) return;
        ev.preventDefault();
        const id = block.dataset.snippet;
        if (!id) return;
        const code = getSnippetById(id);
        copyText(code);
      }
    });
  </script>

  <footer>
    <!-- Tip: edit the templates (below) to change each block's content. Keep each <template> start at column 0 so formatting is preserved when copying. -->
  </footer>
</body>
</html>
